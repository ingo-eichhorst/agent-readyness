---
phase: 18-c1-code-health
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/CITATION-GUIDE.md
autonomous: true

must_haves:
  truths:
    - "Citation style guide documents (Author, Year) format with et al. rules"
    - "URL verification protocol documents curl -I and manual checks"
    - "Source quality checklist exists for evaluating foundational vs AI-era sources"
    - "Retraction Watch check process is documented"
  artifacts:
    - path: "docs/CITATION-GUIDE.md"
      provides: "Citation standards for all phases"
      min_lines: 100
  key_links:
    - from: "docs/CITATION-GUIDE.md"
      to: "internal/output/descriptions.go"
      via: "format standards"
      pattern: "span class=\"citation\""
---

<objective>
Establish citation quality protocols that all subsequent phases (C2-C7) will inherit.

Purpose: This is the foundation for v0.0.4 Metric Research milestone. Quality protocols ensure consistent, verifiable citations across all 33 metric descriptions.
Output: `docs/CITATION-GUIDE.md` containing citation style guide, URL verification protocol, source quality checklist, and Retraction Watch check process.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/18-c1-code-health/18-CONTEXT.md
@.planning/phases/18-c1-code-health/18-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create citation style guide document</name>
  <files>docs/CITATION-GUIDE.md</files>
  <action>
Create `docs/CITATION-GUIDE.md` with four main sections covering all QA requirements:

**Section 1: Citation Style Guide (QA-01)**
- Inline citation format: `<span class="citation">(Author, Year)</span>`
- Multiple authors: Use "et al." for 3+ authors (e.g., "Fowler et al.")
- Two authors: Use "&" (e.g., "Author & Author, Year")
- Multiple citations: Semicolon-separated (e.g., "(Author1, Year; Author2, Year)")
- Citation density target: 2-3 citations per metric (1 foundational pre-2021 + 1-2 AI-era 2021+)
- Maximum: 4 citations per metric (exceptional cases only)
- Placement rules:
  - Brief description: Key citation only
  - "Research Evidence" section: Primary citation location
  - "How to Improve" section: No citations (actionable guidance)

**Section 2: Reference Entry Format (for citations.go)**
- Category field: "C1" through "C7"
- Authors field: Last names only, "et al." for 3+
- Year field: Publication year (not preprint upload date)
- URL field: DOI preferred (`https://doi.org/10.xxxx`), ArXiv/direct URLs acceptable
- Description field: Brief summary of what the citation supports

**Section 3: URL Verification Protocol (QA-02)**
- Primary method: `curl -I [URL]` to check HTTP status (200 OK expected)
- DOI verification: Use `https://doi.org/10.xxxx` format (DOI system handles redirects)
- ArXiv verification: Confirm paper exists at arxiv.org/abs/XXXX.XXXXX
- Manual verification: Open URL in browser to confirm content matches citation
- Paywall handling: Note if paywalled, provide DOI for library access, include sufficient metadata for manual lookup (author, year, title, venue)
- Document verification timing: During research phase, not after implementation

**Section 4: Source Quality Checklist (QA-03, QA-04)**
Foundational sources (pre-2021):
- [ ] Seminal work in the field (McCabe, Parnas, Fowler, Martin)
- [ ] Books acceptable if industry standards
- [ ] Peer-reviewed papers preferred
- [ ] DOI available or stable URL

AI-era sources (2021+):
- [ ] ArXiv preprints acceptable (standard in AI/ML research)
- [ ] Check publication venue reputation
- [ ] Verify not retracted (Retraction Watch database check if suspicious)
- [ ] Specific to AI/LLM code generation or agent behavior

Retraction Watch check process:
- When to check: Only if source seems suspicious (unusual claims, unknown venue)
- How to check: Search retractionwatch.com for author + title
- Documentation: Note "Retraction status verified [date]" if checked
- Default: Trust reputable sources (IEEE, ACM, arXiv, major publishers)

Include examples of good and bad citation practices from the existing codebase.
  </action>
  <verify>
- File exists at `docs/CITATION-GUIDE.md`
- Document contains all 4 sections (style guide, reference format, URL verification, source quality)
- At least 100 lines of content
- Examples use actual ARS citations (McCabe, Fowler, Borg)
  </verify>
  <done>
Citation quality protocols documented and ready for use in Phase 18 Plan 02 and all subsequent phases (C2-C7).
  </done>
</task>

</tasks>

<verification>
- [ ] `docs/CITATION-GUIDE.md` exists with all 4 required sections
- [ ] QA-01 covered: Citation style guide with format, density, placement rules
- [ ] QA-02 covered: URL verification protocol with curl and manual checks
- [ ] QA-03 covered: Retraction Watch check process documented
- [ ] QA-04 covered: Source quality checklist for foundational vs AI-era sources
- [ ] Document uses examples from actual ARS sources (not hypothetical)
</verification>

<success_criteria>
- Citation style guide exists documenting (Author, Year) format, et al. rules, density targets (2-3 per metric), and placement guidelines
- URL verification protocol documented with curl -I checks, DOI preference, and manual verification steps
- Source quality checklist distinguishes foundational (pre-2021) from AI-era (2021+) sources
- Retraction Watch check process documented (when to check, how to check, default trust level)
</success_criteria>

<output>
After completion, create `.planning/phases/18-c1-code-health/18-01-SUMMARY.md`
</output>
