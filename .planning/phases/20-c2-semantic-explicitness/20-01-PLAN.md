---
phase: 20-c2-semantic-explicitness
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [internal/output/descriptions.go, internal/output/citations.go]
autonomous: true

must_haves:
  truths:
    - "All 5 C2 metrics have inline citations with (Author, Year) format"
    - "C2 References section contains complete citations with verified URLs"
    - "Every quantified claim in C2 descriptions has explicit attribution"
    - "Citations distinguish timeless type theory from context-dependent empirical findings"
  artifacts:
    - path: "internal/output/descriptions.go"
      provides: "C2 metric descriptions with inline citations"
      contains: "Pierce, 2002"
    - path: "internal/output/citations.go"
      provides: "C2 reference entries"
      contains: "Cardelli"
  key_links:
    - from: "descriptions.go type_annotation_coverage"
      to: "citations.go C2 Pierce/Gao entry"
      via: "matching Author, Year format"
      pattern: "Pierce.*2002.*Gao.*2017"
    - from: "descriptions.go naming_consistency"
      to: "citations.go C2 Butler entry"
      via: "matching Author, Year format"
      pattern: "Butler.*2009"
---

<objective>
Add research-backed citations to all 5 C2 Semantic Explicitness metrics following established quality protocols from Phase 18.

Purpose: Complete C2 with scientific foundations, continuing the citation pattern established in C1 and C6 phases.
Output: Updated descriptions.go with inline citations for all C2 metrics, expanded citations.go with additional C2 reference entries.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/20-c2-semantic-explicitness/20-RESEARCH.md
@.planning/phases/19-c6-testing/19-01-SUMMARY.md
@internal/output/descriptions.go
@internal/output/citations.go
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update C2 metric descriptions with inline citations</name>
  <files>internal/output/descriptions.go</files>
  <action>
Update all 5 C2 metric descriptions following the pattern established in 18-02-SUMMARY.md and 19-01-SUMMARY.md:

**type_annotation_coverage:**
- Brief: Add citation for 15% bug detection claim: `(Gao et al., 2017)`
- Detailed: Add Research Evidence section citing:
  - Pierce (2002) for foundational type theory: "well-typed programs don't go wrong"
  - Gao et al. (2017) for empirical 15% bug detection in TypeScript/Flow
  - Meta (2024) for industry adoption: 88% Python developers use type hints
  - Borg et al. (2026) for AI agent relevance
  - Note AI-era finding: type-constrained decoding reduces LLM compilation errors by 52%

**naming_consistency:**
- Brief: Add Butler et al. (2009) citation for naming-quality correlation
- Detailed: Add Research Evidence section citing:
  - Butler et al. (2009, 2010) for empirical correlation between flawed identifiers and low-quality code
  - Borg et al. (2026) for AI agent comprehension benefits
  - Note: Research is primarily Java-based; principles are language-agnostic

**magic_number_ratio:**
- Brief: Add Fowler et al. (1999) citation for Magic Number as code smell
- Detailed: Add Research Evidence section citing:
  - Fowler et al. (1999) for Magic Number as established code smell
  - Pierce (2002) for type safety preventing category errors
  - Borg et al. (2026) for semantic clarity aiding agent reasoning

**type_strictness:**
- Brief: Add Cardelli (1996) citation for type systems ruling out untrapped errors
- Detailed: Add Research Evidence section citing:
  - Cardelli (1996) for foundational type systems theory
  - Wright & Felleisen (1994) for progress + preservation theorem
  - Gao et al. (2017) for empirical 15% bug detection with strict checking
  - Note AI-era relevance: type constraints reduce LLM compilation errors

**null_safety:**
- Brief: Add Hoare (2009) as historical context (practitioner opinion, not research)
- Detailed: Add Research Evidence section citing:
  - Hoare (2009) for historical "billion dollar mistake" acknowledgment (note: opinion, not research)
  - Pierce (2002) for Optional/Maybe types as safe alternatives
  - Gao et al. (2017) for type annotations catching null-related bugs
  - Note Kotlin as industry validation of language-level null safety

Use `<span class="citation">(Author, Year)</span>` format for all inline citations.
Each metric should have at least 1 foundational (pre-2021) and 1 AI-era or industry source.
  </action>
  <verify>
Run: `grep -c "citation" internal/output/descriptions.go | head -1`
Confirm: Citation count increased
Run: `grep -E "type_annotation|naming_consistency|magic_number|type_strictness|null_safety" internal/output/descriptions.go | grep -c citation`
Confirm: Each C2 metric has inline citations visible
Run: `go build ./...` passes
  </verify>
  <done>All 5 C2 metrics have inline citations with Research Evidence sections following C1/C6 pattern</done>
</task>

<task type="auto">
  <name>Task 2: Add C2 reference entries to citations.go</name>
  <files>internal/output/citations.go</files>
  <action>
Expand C2 section in researchCitations slice. Keep existing Gao et al. (2017) and Ore et al. (2018) entries, add:

```go
// Add after existing C2 entries (Gao, Ore)
{
    Category:    "C2",
    Title:       "Types and Programming Languages",
    Authors:     "Pierce",
    Year:        2002,
    URL:         "https://www.cis.upenn.edu/~bcpierce/tapl/",
    Description: "Foundational type theory: well-typed programs don't go wrong",
},
{
    Category:    "C2",
    Title:       "Type Systems",
    Authors:     "Cardelli",
    Year:        1996,
    URL:         "https://doi.org/10.1145/234313.234418",
    Description: "Type safety through ruling out untrapped errors",
},
{
    Category:    "C2",
    Title:       "A Syntactic Approach to Type Soundness",
    Authors:     "Wright & Felleisen",
    Year:        1994,
    URL:         "https://doi.org/10.1006/inco.1994.1093",
    Description: "Progress and preservation theorems for type soundness proofs",
},
{
    Category:    "C2",
    Title:       "Relating Identifier Naming Flaws and Code Quality: An Empirical Study",
    Authors:     "Butler et al.",
    Year:        2009,
    URL:         "https://doi.org/10.1109/WCRE.2009.50",
    Description: "Flawed identifiers correlate with low-quality code in static analysis",
},
{
    Category:    "C2",
    Title:       "Exploring the Relationship Between Identifier Names and Code Quality",
    Authors:     "Butler et al.",
    Year:        2010,
    URL:         "https://doi.org/10.1109/CSMR.2010.27",
    Description: "Extended identifier study to method names; consistent naming improves quality",
},
{
    Category:    "C2",
    Title:       "Refactoring: Improving the Design of Existing Code",
    Authors:     "Fowler et al.",
    Year:        1999,
    URL:         "https://martinfowler.com/books/refactoring.html",
    Description: "Magic Number as code smell requiring named constants",
},
{
    Category:    "C2",
    Title:       "Typed Python in 2024: Well adopted, yet usability challenges persist",
    Authors:     "Meta Engineering",
    Year:        2024,
    URL:         "https://engineering.fb.com/2024/12/09/developer-tools/typed-python-2024-survey-meta/",
    Description: "88% of Python developers use type hints; 49.8% cite bug prevention",
},
{
    Category:    "C2",
    Title:       "Null References: The Billion Dollar Mistake",
    Authors:     "Hoare",
    Year:        2009,
    URL:         "https://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare/",
    Description: "Historical acknowledgment of null reference problems (practitioner opinion)",
},
{
    Category:    "C2",
    Title:       "Code for Machines, Not Just Humans: Quantifying AI-Friendliness with Code Health Metrics",
    Authors:     "Borg et al.",
    Year:        2026,
    URL:         "https://arxiv.org/abs/2601.02200",
    Description: "Code health metrics including semantic clarity predict AI agent reliability",
},
```

Note: Borg et al. (2026) and Fowler et al. (1999) exist in C1 section - add as C2 entries anyway for category self-containment (same pattern as Parnas/Gamma in C1/C3, Borg in C6).
  </action>
  <verify>
Run: `grep -c "Category.*C2" internal/output/citations.go`
Confirm: At least 11 C2 citation entries (Gao, Ore + 9 new)
Run: `go build ./...` passes
  </verify>
  <done>C2 References section contains 11 entries covering type theory, naming research, and AI-era sources</done>
</task>

<task type="auto">
  <name>Task 3: Verify all C2 citation URLs are accessible</name>
  <files></files>
  <action>
Verify each C2 citation URL is accessible using curl with browser User-Agent (to bypass bot protection):

URLs to verify:
1. Gao et al. (2017): https://dl.acm.org/doi/10.1145/3133850
2. Ore et al. (2018): https://dl.acm.org/doi/10.1145/3276954.3276963
3. Pierce (2002): https://www.cis.upenn.edu/~bcpierce/tapl/
4. Cardelli (1996): https://doi.org/10.1145/234313.234418
5. Wright & Felleisen (1994): https://doi.org/10.1006/inco.1994.1093
6. Butler et al. (2009): https://doi.org/10.1109/WCRE.2009.50
7. Butler et al. (2010): https://doi.org/10.1109/CSMR.2010.27
8. Fowler et al. (1999): https://martinfowler.com/books/refactoring.html
9. Meta (2024): https://engineering.fb.com/2024/12/09/developer-tools/typed-python-2024-survey-meta/
10. Hoare (2009): https://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare/
11. Borg et al. (2026): https://arxiv.org/abs/2601.02200

Use: `curl -I -A "Mozilla/5.0" [URL]` to check HTTP status
For DOI URLs: Verify they resolve (302/301 redirect is success)
For ACM/IEEE: DOI format is permanent, 403 bot protection is expected for automated requests

Document any issues found. If a URL is inaccessible, find alternative (DOI preferred, then open-access version).
  </action>
  <verify>
All 11 URLs return HTTP 200 or 3xx redirect (DOI resolution)
No broken links
  </verify>
  <done>All C2 citation URLs verified accessible or DOI resolution confirmed</done>
</task>

</tasks>

<verification>
1. `go build ./...` passes
2. `go test ./internal/output/...` passes (if tests exist)
3. All 5 C2 metrics in descriptions.go have inline citations
4. At least 11 C2 entries in citations.go
5. All URLs verified accessible
</verification>

<success_criteria>
- All 5 C2 metrics have inline citations referencing type theory foundations and modern type safety research
- C2 References section contains 11 complete citations with verified, accessible URLs
- Citations distinguish timeless type theory from dated empirical findings
- Every quantified claim in C2 metric descriptions has explicit source attribution
- Hoare "billion dollar mistake" is contextualized as practitioner opinion, not research
</success_criteria>

<output>
After completion, create `.planning/phases/20-c2-semantic-explicitness/20-01-SUMMARY.md`
</output>
