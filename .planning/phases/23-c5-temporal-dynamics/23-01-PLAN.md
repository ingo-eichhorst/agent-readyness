---
phase: 23-c5-temporal-dynamics
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [internal/output/descriptions.go, internal/output/citations.go]
autonomous: true

must_haves:
  truths:
    - "All 5 C5 metrics have inline citations in Brief field"
    - "All 5 C5 metrics have Research Evidence sections in Detailed field"
    - "C5 References section in HTML reports shows complete citations"
    - "Every quantified claim has explicit source attribution"
  artifacts:
    - path: "internal/output/descriptions.go"
      provides: "C5 metric descriptions with inline citations"
      contains: "churn_rate.*citation"
    - path: "internal/output/citations.go"
      provides: "C5 reference entries"
      contains: "Category.*C5"
  key_links:
    - from: "internal/output/descriptions.go"
      to: "internal/output/citations.go"
      via: "Category: C5 entries match inline citation authors"
      pattern: "Graves|Nagappan|Gall|D'Ambros|Bird|Eick|Hassan"
---

<objective>
Add research-backed citations to all 5 C5 Temporal Dynamics metrics following the quality protocols established in Phase 18.

Purpose: Complete C5 scientific foundations with foundational change history research (Graves 2000, Nagappan 2005, Kim 2007, Gall 1998, D'Ambros 2009, Bird 2011, Eick 2001, Hassan 2009) and practitioner synthesis (Tornhill 2015).

Output: Updated descriptions.go with inline citations and Research Evidence sections, expanded citations.go with ~10 new C5 entries, all URLs verified.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/23-c5-temporal-dynamics/23-CONTEXT.md
@.planning/phases/23-c5-temporal-dynamics/23-RESEARCH.md
@.planning/phases/22-c4-documentation/22-01-SUMMARY.md

# Reference files
@internal/output/descriptions.go
@internal/output/citations.go
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update C5 metric descriptions with inline citations</name>
  <files>internal/output/descriptions.go</files>
  <action>
Update all 5 C5 Temporal Dynamics metrics (lines 735-878) following the established pattern from C1-C4:

**churn_rate (lines 735-762):**
- Brief: Add inline citation `<span class="citation">(Kim et al., 2007)</span>` — already present but enhance with research context
- Add Research Evidence section citing:
  - Graves et al. (2000): Process measures from change history outperform product metrics for fault prediction
  - Nagappan & Ball (2005): Relative churn measures predict defect density with 89% accuracy
  - Kim et al. (2007): Cache-based fault prediction from change history
  - Tornhill (2015): Practitioner synthesis — label as "practitioner literature"
  - Borg et al. (2026): Code health predicts agent reliability (indirect support)

**temporal_coupling_pct (lines 764-791):**
- Brief: Add inline citation `<span class="citation">(Gall et al., 1998)</span>` for pioneering logical coupling detection
- Add Research Evidence section citing:
  - Gall et al. (1998): Pioneered logical coupling detection from change history
  - D'Ambros et al. (2009): Change coupling correlates with defects; improves bug prediction
  - Tornhill (2015): Practitioner synthesis — label appropriately
  - Borg et al. (2026): Indirect support for AI agents

**author_fragmentation (lines 793-820):**
- Brief: Add inline citation `<span class="citation">(Bird et al., 2011)</span>` for ownership and defects
- Add Research Evidence section citing:
  - Bird et al. (2011): Ownership measures relate to pre/post-release faults; low-expertise contributors increase defects
  - Kim et al. (2007): Developer contribution patterns in fault prediction
  - Tornhill (2015): Author fragmentation as knowledge silo indicator — label as practitioner
  - Borg et al. (2026): Indirect support

**commit_stability (lines 822-849):**
- Brief: Add inline citation `<span class="citation">(Eick et al., 2001)</span>` for code decay research
- Add Research Evidence section citing:
  - Eick et al. (2001): Defines code decay; change patterns as symptoms/predictors
  - Graves et al. (2000): Modification patterns predict future defects
  - Tornhill (2015): Commit patterns as maturity indicators — label as practitioner
  - Note: Commit stability as specific metric has limited dedicated research; thresholds are practitioner consensus

**hotspot_concentration (lines 851-878):**
- Brief: Add inline citation `<span class="citation">(Nagappan & Ball, 2005)</span>` for churn concentration identifying defect-dense components
- Add Research Evidence section citing:
  - Nagappan & Ball (2005): Churn concentration identifies high-defect-density components
  - Hassan (2009): Change complexity as fault predictor; identifies change hotspots
  - Tornhill (2015): Hotspots as refactoring targets; Pareto principle — label as practitioner
  - Borg et al. (2026): Indirect support

**Pattern to follow** (from C4 metrics):
```go
Brief: "Description text <span class=\"citation\">(Author, Year)</span>.",
Detailed: `<h4>Definition</h4>
<p>[Keep existing definition]</p>

<h4>Why It Matters for AI Agents</h4>
<p>[Keep existing explanation, add citation if specific claim]</p>

<h4>Research Evidence</h4>
<p>[NEW: 2-3 paragraphs with inline citations]</p>

<h4>Recommended Thresholds</h4>
[Keep existing thresholds, cite if from research]

<h4>How to Improve</h4>
[Keep existing guidance, no citations needed]`,
```

**Key guidelines:**
- Label Tornhill (2015) as "practitioner literature" or "influential practitioner perspective"
- Note that Borg et al. (2026) validates code health broadly, not temporal metrics specifically — use hedged language
- Acknowledge commit stability research gap — present thresholds as practitioner consensus
- Preserve existing Definition, Why It Matters, Recommended Thresholds, How to Improve content
  </action>
  <verify>
    - `go build ./...` passes
    - `go test ./internal/output/...` passes
    - All 5 C5 metrics have inline citations in Brief
    - All 5 C5 metrics have Research Evidence sections
  </verify>
  <done>
    - churn_rate has citations: Kim, Graves, Nagappan, Tornhill (practitioner), Borg (indirect)
    - temporal_coupling_pct has citations: Gall, D'Ambros, Tornhill (practitioner), Borg (indirect)
    - author_fragmentation has citations: Bird, Kim, Tornhill (practitioner), Borg (indirect)
    - commit_stability has citations: Eick, Graves, Tornhill (practitioner), research gap noted
    - hotspot_concentration has citations: Nagappan, Hassan, Tornhill (practitioner), Borg (indirect)
  </done>
</task>

<task type="auto">
  <name>Task 2: Add C5 reference entries to citations.go</name>
  <files>internal/output/citations.go</files>
  <action>
Add new C5 reference entries to the researchCitations slice. Currently has 2 C5 entries (Tornhill 2015, Kim 2007). Add these additional entries:

```go
// After existing C5 entries, add:
{
    Category:    "C5",
    Title:       "Predicting Fault Incidence Using Software Change History",
    Authors:     "Graves et al.",
    Year:        2000,
    URL:         "https://doi.org/10.1109/32.859533",
    Description: "Process measures from change history outperform product metrics for fault prediction",
},
{
    Category:    "C5",
    Title:       "Use of Relative Code Churn Measures to Predict System Defect Density",
    Authors:     "Nagappan & Ball",
    Year:        2005,
    URL:         "https://doi.org/10.1145/1062455.1062514",
    Description: "Relative churn measures predict defect density with 89% accuracy on Windows Server 2003",
},
{
    Category:    "C5",
    Title:       "Detection of Logical Coupling Based on Product Release History",
    Authors:     "Gall et al.",
    Year:        1998,
    URL:         "https://doi.org/10.1109/ICSM.1998.738508",
    Description: "Pioneered logical coupling detection from change history; reveals hidden dependencies",
},
{
    Category:    "C5",
    Title:       "On the Relationship Between Change Coupling and Software Defects",
    Authors:     "D'Ambros et al.",
    Year:        2009,
    URL:         "https://doi.org/10.1109/WCRE.2009.19",
    Description: "Change coupling correlates with defects; improves bug prediction models",
},
{
    Category:    "C5",
    Title:       "Don't Touch My Code! Examining the Effects of Ownership on Software Quality",
    Authors:     "Bird et al.",
    Year:        2011,
    URL:         "https://doi.org/10.1145/2025113.2025119",
    Description: "Ownership measures relate to faults; low-expertise contributors increase defects",
},
{
    Category:    "C5",
    Title:       "Does Code Decay? Assessing the Evidence from Change Management Data",
    Authors:     "Eick et al.",
    Year:        2001,
    URL:         "https://doi.org/10.1109/32.895984",
    Description: "Defines code decay; change patterns as symptoms and predictors of decay",
},
{
    Category:    "C5",
    Title:       "Predicting Faults Using the Complexity of Code Changes",
    Authors:     "Hassan",
    Year:        2009,
    URL:         "https://doi.org/10.1109/ICSE.2009.5070510",
    Description: "Change complexity predicts faults; entropy of changes identifies hotspots",
},
{
    Category:    "C5",
    Title:       "Code for Machines, Not Just Humans: Quantifying AI-Friendliness with Code Health Metrics",
    Authors:     "Borg et al.",
    Year:        2026,
    URL:         "https://arxiv.org/abs/2601.02200",
    Description: "Code health metrics predict AI agent reliability (indirect support for temporal metrics)",
},
```

Also update existing C5 entries:
- Tornhill (2015): Update description to "Practitioner synthesis of temporal analysis: churn, coupling, hotspots (ISBN 978-1-68050-038-7)"
- Kim et al. (2007): Update URL to DOI format "https://doi.org/10.1109/ICSE.2007.66"

Final C5 citation count: 10 entries (was 2)
  </action>
  <verify>
    - `go build ./...` passes
    - `go test ./internal/output/...` passes
    - Count C5 entries: `grep -c 'Category.*"C5"' internal/output/citations.go` returns 10
  </verify>
  <done>
    - 10 C5 reference entries in citations.go
    - All entries have Category: "C5"
    - All URLs use DOI format where available
    - Tornhill labeled as practitioner with ISBN
    - Borg et al. labeled as indirect support
  </done>
</task>

<task type="auto">
  <name>Task 3: Verify all C5 citation URLs</name>
  <files>internal/output/citations.go</files>
  <action>
Verify all 10 C5 citation URLs are accessible using curl -I:

```bash
# DOI URLs (expect 302 redirect - success)
curl -I "https://doi.org/10.1109/32.859533"     # Graves 2000
curl -I "https://doi.org/10.1145/1062455.1062514" # Nagappan 2005
curl -I "https://doi.org/10.1109/ICSE.2007.66"   # Kim 2007
curl -I "https://doi.org/10.1109/ICSM.1998.738508" # Gall 1998
curl -I "https://doi.org/10.1109/WCRE.2009.19"   # D'Ambros 2009
curl -I "https://doi.org/10.1145/2025113.2025119" # Bird 2011
curl -I "https://doi.org/10.1109/32.895984"      # Eick 2001
curl -I "https://doi.org/10.1109/ICSE.2009.5070510" # Hassan 2009

# Other URLs
curl -I "https://pragprog.com/titles/atcrime/your-code-as-a-crime-scene/" # Tornhill 2015
curl -I "https://arxiv.org/abs/2601.02200"      # Borg 2026
```

Expected results:
- DOI URLs: HTTP 302 (redirect to publisher) = success
- Pragmatic Programmers: HTTP 200 or 301/302 = success
- ArXiv: HTTP 200 = success
- ACM/IEEE direct: HTTP 403/418 (bot protection) = still valid, URLs work in browser

If any URL fails completely, find alternative:
1. Try DOI resolver
2. Check author's academic page
3. Use preprint archive (ArXiv, ResearchGate)
4. Verify in browser manually
  </action>
  <verify>
    - All 10 URLs return valid HTTP response (200, 301, 302, or 403/418 for bot-protected academic sites)
    - No 404 or connection errors
  </verify>
  <done>
    - All C5 citation URLs verified accessible
    - DOI URLs resolve correctly (302 redirect)
    - Book URL (Pragmatic Programmers) accessible
    - ArXiv URL accessible
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `go build ./...` passes
2. `go test ./internal/output/...` passes
3. All 5 C5 metrics have inline citations with `<span class="citation">` markup
4. All 5 C5 metrics have Research Evidence sections
5. 10 C5 entries in citations.go (was 2)
6. All 10 URLs verified accessible
7. Tornhill labeled as practitioner literature throughout
8. Borg et al. labeled as indirect support for temporal metrics
</verification>

<success_criteria>
Phase 23 complete when:
- [ ] All 5 C5 metrics have inline citations in Brief field
- [ ] All 5 C5 metrics have Research Evidence sections in Detailed field
- [ ] 10 C5 reference entries in citations.go with verified URLs
- [ ] Practitioner sources (Tornhill) labeled appropriately
- [ ] AI-era support (Borg) noted as indirect for temporal metrics
- [ ] Commit stability research gap acknowledged
- [ ] `go build` and `go test` pass
</success_criteria>

<output>
After completion, create `.planning/phases/23-c5-temporal-dynamics/23-01-SUMMARY.md` following the summary template.
</output>
